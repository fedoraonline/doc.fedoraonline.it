La documentazione qui sotto riportata è stata testata su una Fedora 12 i686, e non ha funzionato correttamente su Fedora 11, per problemi di riconoscimento del modem usb.<br />* Per prima cosa verificare che la versione di OS sia una Fedora 12 e che il kernel usato sia un 2.6.xxx. <br /><br /><div class="xoopsCode"><code><pre>[root@cellopc ~]# cat /etc/fedora-release <br />Fedora release 12 (Constantine)<br />[root@cellopc ~]# uname -r<br />2.6.31.6-145.fc12.i686<br /></pre></code></div><br />* Si ricorda che con il kernel-PAE ci sono problemi di supporto dei driver del modem, quindi nel caso si utilizzi questa tipologia di kernel, converrà installare il kernel più aggiornato e modificare il proprio grub.conf per caricare il nuovo kernel.<br /><br /><div class="xoopsCode"><code><pre>[root@cellopc ~]# yum install -y kernel kernel-devel kernel-headers<br />[root@cellopc ~]# vim /etc/grub.conf <br /># grub.conf generated by anaconda<br />#<br /># Note that you do not have to rerun grub after making changes to this file<br /># NOTICE:  You have a /boot partition.  This means that<br />#          all kernel and initrd paths are relative to /boot/, eg.<br />#          root (hd0,0)<br />#          kernel /vmlinuz-version ro root=/dev/mapper/vg_root-lv_root<br />#          initrd /initrd-version.img<br />#boot=/dev/sda<br />default=0<br />timeout=0<br />splashimage=(hd0,0)/grub/splash.xpm.gz<br />hiddenmenu<br />title Fedora (2.6.31.6-145.fc12.i686)<br />	root (hd0,0)<br />	kernel /vmlinuz-2.6.31.6-145.fc12.i686 ro root=/dev/mapper/vg_root-lv_root rhgb quiet
SYSFONT=latarcyrheb-sun16 LANG=en_US.UTF-8 KEYTABLE=it2<br />	initrd /initramfs-2.6.31.6-145.fc12.i686.img<br />[root@cellopc ~]# reboot<br /></pre></code></div><br />* Ora bisognerà installare i pacchetti necessari alla compilazione dei driver forniti con la chiavetta, e ulteriori pacchetti presenti sul cd (ma sono per fedora core 8).<br /><br /><div class="xoopsCode"><code><pre>[root@cellopc ~]# yum install -y make gcc wvdial automake glibc ppp qt3 ncurses-devel<br /></pre></code></div><br />* Verificare se il pacchetto vodafone-mobile-connect sia installato, perchè tra i diversi file crea /etc/modprobe.d/blacklist-vmc dove viene eseguita la blacklist del modulo onda. Nel caso non servisse rimuoverlo manualmente.<br /><br /><div class="xoopsCode"><code><pre>[root@cellopc Alice_MOBILE]# rpm -qa | grep -i vodafone<br />vodafone-mobile-connect-2.10.01-521.noarch<br />[root@cellopc Alice_MOBILE]# rm -f /etc/modprobe.d/blacklist-vmc<br /></pre></code></div><br />* Inserire la chiavetta sul sistema e verificare che venga riconosciuta con ID ID 19d2:0037. In alcuni casi la chiavetta USB non viene subita riconosciuta come modem e quindi bisogneranno lanciare i comandi qui sotto riportati, per forzare il riconoscimento della device.<br /><br /><div class="xoopsCode"><code><pre>[root@cellopc ~]# modprobe usbserial vendor=0x19d2 product=0x0002<br />[root@cellopc ~]# usb_modeswitch -v 0x19d2 -p 0x2000 -V 0x19d2 -P 0x0002 -d 1<br /><br />Looking for target devices ...<br /> No devices in target mode or class found<br />Looking for default devices ...<br /> No default device found. Is it connected? Bye.<br /><br />[root@cellopc ~]# eject /dev/sr1<br /></pre></code></div><br />* La chiavetta ora viene vista come modem in modo corretto<br /><br /><div class="xoopsCode"><code><pre>[root@cellopc ~]# lsusb  | grep -i onda<br />Bus 001 Device 012: ID 19d2:0037 ONDA Communication S.p.A. <br /></pre></code></div><br />* Dopo di che aggiornare i pacchetti ModemManager e NetworkManager all'ultima release disponibile, per risolvere eventuali problemi di gestione delle device US UMTS.<br /><br /><div class="xoopsCode"><code><pre>[root@cellopc ~]# yum install -y ModemManager NetworkManager<br /></pre></code></div><br />* Cliccando poi con il tasto sinistro del mouse sull'icona di NM si vedrà una nuova voce selezionabile sotto "Mobile Broadband" denominata "New Mobile Broadband (GSM) connection...". Selezionare dunque questa voce del menù.<br /><br />* Al menù successivo verrà mostrato un wizard per la creazione della nuova connessione con NM. Cliccare su "Forward" e poi dall'elenco delle nazioni selezionare "Italy" e poi cliccare su "Forward".<br /><br />* Al menù successivo verrà richiesto l'operatore che fornisce la connessione. Nel nostro caso selezionare "Tim" poi su "Forward". Alla finestrà successiva lasciare il default e cliccare su "Forward". Al termine cliccare su "Apply" e la connessione verrà aperta da NM in automatico.
