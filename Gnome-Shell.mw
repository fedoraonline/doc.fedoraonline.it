== Introduzione ==

Quello che attualmente si vede come Gnome-shell non è, e non sarà, la versione finale; molte funzioni non sono attive in questo momento e verranno implementate solo strada facendo, il che ha permesso al team di Fedora di compiere un atterraggio morbido, in seguito anche all'esperienza e lo scotto pagato con l'uscita di KDE 4.0 qualche anno fa.<br />
Di conseguenza la configurazione e i consigli che seguono sono da considerare per quello che Gnome è in questo momento.

'''Concetti:''' Gnome-shell è quello che si vede sullo schermo, la shell grafica appunto, attraverso la quale si comunica con l'hardware. Essa richiede, per funzionare correttamente, l'installazione dei driver video ed è scritta in C e Javascript. Se si dovesse presentare qualche problema, Gnome lo comunica all'utente e lancia direttamente la modalità ''fallback'', una sorta di Gnome 2.x, per non dover rinunciare alla grafica.

== Modalità Fallback ==
[[Image:Gnome_fallback.jpg|right|thumb|350px|Fallback: l'ancora di salvataggio se non si ha l'accelerazione grafica.]]
La modalità chiamata ''fallback'' è una specie di ancora di salvataggio nel caso Gnome non riesca ad avviare correttamente gnome-shell e deve utilizzare il driver grafico generico. Per chi proviene da Gnome 2.x si trova di fronte a un desktop familiare, il pannello in alto contiene i menu ''Applicazioni'' e ''Risorse'' e quello in basso le aree di lavoro utilizzate.<br />
Per utilizzare Gnome-shell invece si necessita dell'accelerazione grafica, controllare per vedere se è attiva o no:

 $ glxinfo | grep direct
 direct rendering: Yes

Se la risposta è un sì, allora il problema non è la scheda grafica, se invece la risposta è ''No'' si legga come installare i driver della propria scheda video in [[:Categoria:Schede grafiche| questa categoria]].<br />
Una volta installato il driver corretto si vedrà che al prossimo avvio del server X partirà gnome-shell.

== Considerazioni ==
Fin da subito si nota che si ha di fronte un desktop apparentemente "sconosciuto", nessun legame con Gnome 2.x ed è proprio questo che molti utenti spiazza in un primo momento. L'abitudine e l'essere tradizionalisti in questo caso possono giocare dei brutti scherzi, perchè dopo un po' di prove ci si convince che questa shell grafica è molto potente e quando avrà tutte le funzionalità si ricorderà Gnome 2.x soltanto con un sorriso sulle labbra, pensando ai "vecchi tempi".<br />
Gnome 3 mira anche anche a far cambiare le abitudini, nel senso che porterà l'utente ad utilizzare molto di più le aree di lavoro, mentre fino ad ora si lavorava su massimo 2 o forse 3 e si gestiva il tutto con i pulsanti ad icona. L'utilizzo delle aree invece renderà la navigazione più veloce e la lettura più immediata (le finestre potranno rimanere aperte nelle varie aree spostandosi facilmente da un area all'altra con Ctrl+Alt+freccia su o giù).<br />
Gnome-shell è altamente personalizzabile, e lo sarà ancor di più quando sarà a pieno regime, chi conosce le basi dei fogli di stile CSS non troverà nessuna difficoltà. Inoltre nascono molti temi ed estensioni ad hoc.

== Principali novità ==
===Hot corner===
Esistono due cosiddetti ''hot corner'', angoli del monitor che al passaggio del mouse eseguono una determinata azione. Il primo, quello più importante, è in alto a sinistra e farà apparire una seconda scrivania, se così la si può chiamare. Tutte le finestre aperte verranno ridotte a thumbnail e a sinistra apparirà una barra di avvio veloce, che si potrà personalizzare a seconda delle proprie esigenze. A destra ci sono, appena visibili, due aree di lavoro. Apparirà il menu ''Applicazioni'' in cui sarà possibile scegliere il programma da avviare.
[[Image:Gnome_base.jpg|center|thumb|400px|Gnome-Shell come appare dopo l'installazione del sistema]]
Il secondo angolo è quello in basso a destra, che farà apparire in trasparenza una barra in basso, dove verranno visualizzati i messaggi di sistema, gli aggiornamenti disponibili ed è la barra dalla quale si può gestire la chat.

===Aree di lavoro===
Apparentemente le aree di lavoro sono soltanto due, ma in realtà sono ''n''. Ogni qualvolta viene aperta una nuova area verrà aggiunta un'altra vuota, immediatamente utilizzabile. Lo switch da un'area all'altra è molto veloce e permette di tenere molte applicazioni aperte senza dover saltare da una all'altra tramite la riduzione ad icona.

===Centro di controllo===
Per chi fino a ieri era gnomista puro questa è davvero una novità, d'ora in poi non solo KDE ma anche Gnome ha un suo centro di controllo, dal quale è possibile impostare lo schermo, tastiera, mouse, rete ecc.<br />
Di contro, siccome si può impostare lo schermo e il monitor da qui, il famoso system-config-display è stato definitivamente mandato in pensione.
[[Image:Gnome_utente.jpg|left|thumb|200px|Per far apparire la voce "Spegni" basta premere <ALT>]]
[[Image:Gnome_sistema.jpg|right|thumb|250px|Il centro di controllo è molto intuitivo]]

===Spegnimento PC===
Per chi a questo punto vuole fare una pausa e nel menu utente, cliccando sul proprio nome, cerca il tasto "Spegni" avrà un'altra sorpresa: sembra mancare!<br />
Invece c'è, premendo il tasto <ALT> la voce ''Sospendi'' cambia in ''Spegni''. Cliccando sopra con il mouse appare la finestra di spegnimento/riavvio del PC. Si vedrà più avanti che esiste un'estensione che rende definitiva questa opzione.

===Servizi===
Benchè non dipende direttamente da Gnome, un'altra novità inserita su Fedora con la versione 15 è il nuovo gestore di servizi '''systemd''', che di fatto ha sostituito ''system-config-services'', benchè quest'ultimo attualmente è ancora disponibile. Di conseguenza cambia anche il modo di gestione dei servizi stessi. La sintassi è:

 # systemctl start/stop/status/enable/disable nome_servizio.service 

Quando Gnome sarà completato ci sarà anche la GUI per systemd:

 # systemadm

== Gnome Tweak Tool ==

Un'altra novità che si noterà durante la navigazione è la mancanza dei pulsanti massimizza/minimizza e chiudi a icona nella barra superiore delle finestre. E' presente solamente la "X" per chiudere la finestra.<br />
E' un concetto che risulta difficile da digerire, ma porta l'utente a fare quello che Gnome si pone come obiettivo. Utilizzare le aree di lavoro e le funzionalità che si possono dare a mouse e tastiera per personalizzare il comportamento delle finestre. Questo lo si può raggiungere facilmente dalle impostazioni di sistema, in cui si possono impostare delle combinazioni di tasti per la personalizzazione, ma ancor di più è utile l'utilizzo di Gnome Tweak Tool, che si installa così:

 # yum install gnome-tweak-tool 

Una volta installato si trova in ''Applicazioni > Accessori > Impostazioni Avanzate''; è uno strumento che non solo permette di impostare il comportamento delle finestre, ma anche di cambiare caratteri, impostare le icone sul desktop e di variare il tema utilizzato. Molto altro verrà ancora aggiunto a questo tool.
[[Image:Tweak_Tool.png|right|thumb|300px|Gnome Tweak Tool è davvero potente e non dovrebbe mancare sul proprio Desktop.]]
Tramite questo strumento si potranno inoltre gestire le estensioni di Gnome-Shell, di cui si parlerà nel prossimo capitolo.

== Estensioni Gnome-Shell ==

Tra gli aspetti più innovativi di Gnome rientra sicuramente la facilità di personalizzazione. Le varie sezioni del Desktop, le icone, la barra ecc. si possono modificare semplicemente tramite i fogli di stile (CSS).<br />
Inoltre esistono alcune estensioni, e nel tempo ce ne saranno sempre di più, che rendono il Desktop ancora più immediato nel suo utilizzo. Essi sono gestibili, oltre che da terminale, tramite Gnome-Tweak-Tool, visto in precedenza.

Le estensioni attualmente disponibili possono essere viste e installate tramite il sito https://extensions.gnome.org/.
Alcune di esse sono anche presenti nel repo fedora.

Di seguito alcuni approfondimenti su qualche estensione:

===Alternative-status-menu===
Con questa estensione si rende permanente la visualizzazione della voce "Spegni" nel menu utente, senza dover premere il tasto <ALT> come indicato precedentemente.

 # yum install gnome-shell-extensions-alternative-status-menu

===Drive-menu===
Per avere un accesso più veloce a Nautilus e le cartelle nei segnalibri potrebbe essere utile avere un'icona sul pannello superiore che faccia da scorciatoia.

 # yum install gnome-shell-extensions-drivemenu

===User-Theme===
In questa fase iniziale di Gnome-Shell non è intenzione del team di Gnome incentivare lo sviluppo di temi alternativi, tuttavia è disponibile un'estensione che già oggi gestisce i temi dell'utente.<br>
Per utilizzarla è necessario aggiungere un'altra estensione, la selezione temi, come indicato di seguito:

 # yum install gnome-shell-extensions-user-theme  
 # yum install --nogpg http://timlau.fedorapeople.org/files/packages/theme-selector/gnome-shell-extensions-theme-selector-0.9-1.fc15.noarch.rpm
[[Image:Gnome-themes.jpg|right|thumb|350px|L'estensione per selezionare i tuoi temi personali.]]
A questo punto è necessario linkare i temi all'utente, per cui digitare, da utente normale:

 $ theme-selector-setup
 User themes are now linked into /home/nome_utente/.themes

Riavviare Gnome-Shell:<br>
Premere ALT+F2 e alla richiesta di comando inserire la lettera "r" seguita da <invio>.<br />
Fatto, ora oltre alle Finestre e Applicazioni si avrà la possibilità di selezionare i temi personali.

===Google-Search===
Questa applicazione permette di fare una ricerca su google di una selezione precedentemente fatta. In breve, si seleziona il testo che si vuole cercare su google > lo si copia o taglia > si clicca sulla [https://extensions.gnome.org/static/extension-data/screenshots/screenshot_176_1.png lente di ingrandimento] (il secondo simbolo dell'immagine nel link) sulla barra superiore e si aprirà automaticamente firefox o il browser di fiducia con la ricerca effettuata su google.
Per chi avesse avuto problemi con l'estensione [https://extensions.gnome.org/extension/176/google-search/ Google Search] si può ovviare con questo metodo.

Prima di tutto è necessario clonare il repo git con il seguente comando:
 $ cd && git clone git://github.com/sciancio/websearch
Adesso sono disponibili due strade:
* Se si vuole che l'estensione sia utilizzata solo dal proprio account si crea una cartella così:
 $ mkdir $HOME/.local/share/gnome-shell/extensions/websearch@ciancio.net
e lo si sposta nella cartella che è stata creata precedentemente:
 $ cd && mv $HOME/websearch $HOME/.local/share/gnome-shell/extensions/websearch@ciancio.net
* Altrimenti, se si vuole che sia disponibile per tutti gli utenti:
 $ su -c 'mkdir /usr/share/gnome-shell/extensions/websearch@ciancio.net'
e quindi si sposta il repo git:
 $ su -c 'mv /home/NOME_ACCOUNT/websearch mv /usr/share/gnome-shell/extensions/websearch@ciancio.net
inserendo al posto di NOME_ACCOUNT il nome dell'account nel quale il repository git è stato scaricato.

Premendo '''Alt+F2''' e '''r''' verrà riavviata gnome-shell, andare su gnome-tweak-tool e avviare l'estensione.
L'estensione (alla versione 0.1) è stata testata su Fedora 16 ma dovrebbe funzionare anche su Fedora 15.

==Rendere Gnome-Shell simile a Gnome 2.x==

Per i più malinconici è disponibile anche un pacchetto che non fa del tutto dimenticare Gnome 2.x.

Si può installare semplicemente con, per Fedora 15:

 # yum localinstall --nogpgcheck ftp://ftp.tigress.co.uk/fedora/15/tigress-utils/i386/gnome-shell-frippery-0.2.8-1.noarch.rpm

per Fedora 16:

 # yum localinstall --nogpgcheck ftp://ftp.tigress.co.uk/fedora/16/tigress-utils/i386/gnome-shell-frippery-0.3.8-1.noarch.rpm

per Fedora 17:

 # yum localinstall --nogpgcheck ftp://ftp.tigress.co.uk/fedora/17/tigress-utils/i386/gnome-shell-frippery-0.4.1-1.noarch.rpm

Questo pacchetto installa sei estensioni, eventualmente attivabili anche singolarmente:
*''Bottom Panel'': aggiunge un pannello inferiore, con funzionalità simili a quello di gnome 2.x
*''Shut Down Menu'': sostituisce la voce "sospendi" con "arresta", che apre una finestra con tutte le opzioni di spegnimento, sospensione e ibernazione (similmente all'estensione "Alternative-status-menu")
*''Move Clock'': sposta l'orologio a destra
*''Panel Favorites'': aggiunge al pannello superiore le icone per avviare direttamente le applicazione preferite
*''Applications Menu'': sostituisce il tasto "attività" in alto a sinistra con un menu "applicazioni" come quello di gnome 2.x. L'hot corner in alto a sinistra può essere disattivato o no tramite opzione selezionabile con clic destro
*''Static Workspaces'': permette di avere un numero fisso di aree di lavoro

[[Image:Gnome_gnome2.jpg|center|thumb|350px|Nostalgia di Gnome 2? No problem.]]

Il tutto si completa con il Gnome Tweak Tool: 
*nella scheda "Scrivania", attivando tutte le opzioni così da avere disponibili le icone sul desktop;
*nella scheda "Shell", selezionando "all" nell'opzione "Arrangement of buttons on the titlebar" così da non avere solo il tasto di chiusura nelle finestre delle applicazioni.

==Altri esempi di personalizzazione==

Come già detto, di personalizzazioni se ne possono fare tantissime e per fortuna ognuno ha le sue preferenze. Quello descritto in seguito è soltanto un esempio per dimostrare cosa si può ottenere con minimi sforzi.<br />
A proposito di tema, visto poco fa: la barra superiore delle finestre nello stesso colore (bianco/grigio) può non piacere, per cui si può anche colorarla. Inanzitutto è importante sapere che per la gestione di queste impostazioni è responsabile metacity; di conseguenza le modifiche applicate saranno mantenute anche se si cambia tema, proprio perchè il file è il seguente e vale per tutti i temi:<br />
''/usr/share/themes/Adwaita/metacity-1/metacity-theme-3.xml''

Aprire il file e, dopo aver salvato una copia, andare alla sezione che si occupa dei colori della barra:

 # cp /usr/share/themes/Adwaita/metacity-1/metacity-theme-3.xml /usr/share/themes/Adwaita/metacity-1/metacity-theme-3.xml.old
 # gedit /usr/share/themes/Adwaita/metacity-1/metacity-theme-3.xml

Nella prima parte si trovano le indicazioni per
<nowiki>''-- meaningfull constants --''</nowiki>

 <!-- meaningfull constants -->
 <constant name="C_border_focused" value="blend/#000000/gtk:bg[NORMAL]/0.6" />
 <constant name="C_border_unfocused" value="blend/#000000/gtk:bg[NORMAL]/0.8" />
 <constant name="C_border_attached_focused" value="blend/#000000/gtk:bg[NORMAL]/0.4" />
 <constant name="C_titlebar_focused_hilight" value="gtk:base[NORMAL]" />
 <constant name="C_titlebar_unfocused" value="blend/gtk:base[NORMAL]/gtk:bg[NORMAL]/0.4" />
 <constant name="C_title_focused" value="blend/gtk:fg[NORMAL]/gtk:bg[NORMAL]/0.1" />
 <constant name="C_title_focused_hilight" value="gtk:base[NORMAL]" />
 <constant name="C_title_unfocused" value="blend/gtk:text[NORMAL]/gtk:bg[NORMAL]/0.9" />

Si possono identificare facilmente i valori per il bordo, la barra del titolo e del titolo stesso delle finestre. Si può impostare quello che più piace, come esempio è stato scelto un colore blu, che, se non è attiva la finestra diventi grigio con delle righe orizzontali.<br>
La sezione d'esempio diventerebbe così:

 <!-- meaningfull constants -->
 <constant name="C_border_focused" value="#000064" />
 <constant name="C_border_unfocused" value="#0052FF" />
 <constant name="C_border_attached_focused" value="#000064" />
 <constant name="C_titlebar_focused_hilight" value="#000064" />
 <constant name="C_titlebar_unfocused" value="#0052FF" />
 <draw_ops name="titlebar_fill_focused_alt">
        <gradient type="vertical" x="0" y="0" width="width" height="height">
                <color value="#6B6EAC"/>
                <color value="#000064"/>
        </gradient>
 </draw_ops>
 <constant name="C_title_focused_hilight" value="gtk:base[NORMAL]" />
 <draw_ops name="titlebar_fill_unfocused">
        <gradient type="vertical" x="0" y="0" width="width" height="height">
                <color value="#7096E3"/>
                <color value="#0052FF"/>
        </gradient>
 </draw_ops>

Riavviando Gnome-Shell (ALT+F2 > r > Invio) si avranno le finestre come indicato nell'immagine successiva.
[[Image:Gnome-barra.jpg|center|thumb|350px|L'esempio descritto farebbe apparire le finestre così.]]

Utile per comprendere Gnome-Shell è sicuramente una letta alla [https://fedoraproject.org/wiki/Features/Gnome3/it documentazione del fedoraproject], che contiene anche vari link, tra cui quello alla documentazione ufficiale.

==Riferimenti==

* [http://blog.fpmurphy.com/ Blog di Murphy]
* [http://fedora.rasmil.dk/blog/?p=238 Timlau]
* [http://intgat.tigress.co.uk/rmy/extensions/index.html Estensioni per Gnome Shell Frippery]

[[Categoria:Ambiente Desktop]]
